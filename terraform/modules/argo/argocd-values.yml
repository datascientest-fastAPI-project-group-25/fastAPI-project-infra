# ArgoCD Helm chart values
# These values are used to configure the ArgoCD installation

global:
  image:
    tag: v2.8.4

server:
  extraArgs:
    - --insecure
  service:
    type: LoadBalancer
  ingress:
    enabled: true
    annotations:
      kubernetes.io/ingress.class: alb
      alb.ingress.kubernetes.io/scheme: internet-facing
      alb.ingress.kubernetes.io/target-type: ip
    hosts:
      - argocd-${environment}.${project_name}.example.com

controller:
  resources:
    limits:
      cpu: 500m
      memory: 512Mi
    requests:
      cpu: 250m
      memory: 256Mi

repoServer:
  resources:
    limits:
      cpu: 500m
      memory: 512Mi
    requests:
      cpu: 250m
      memory: 256Mi

applicationSet:
  resources:
    limits:
      cpu: 500m
      memory: 512Mi
    requests:
      cpu: 250m
      memory: 256Mi

redis:
  resources:
    limits:
      cpu: 500m
      memory: 512Mi
    requests:
      cpu: 250m
      memory: 256Mi

# Configure RBAC
rbac:
  policy.default: role:readonly
  scopes: '[groups]'

# Configure SSO (optional)
# dex:
#   enabled: true
#   config:
#     connectors:
#       - type: github
#         id: github
#         name: GitHub
#         config:
#           clientID: $GITHUB_CLIENT_ID
#           clientSecret: $GITHUB_CLIENT_SECRET
#           orgs:
#             - name: datascientest-fastapi-project-group-25
